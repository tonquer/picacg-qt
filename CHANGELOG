# update log file.
# tonquer<tonquer@qq.com>
# https://github.com/tonquer/picacg-qt
######################################################################################
# Version: v1.4.8
# 2024/1/12
# 1) 优化下载图片新增超时自动重试
# 2) 下载右键菜单新增添加到本地漫画中
# 3) 下载新增更新所有New章节
# 4) 分流新增IPV6, 修复CDN分流填入IPV6时部分封面无法加载
# 5) 修复勾选无代理时，部分封面下载仍然走代理的问题


# Version: v1.4.7
# 2023/11/19
# 1) 本地漫画新增分页，避免漫画太多卡顿
# 2) 本地漫画新增批量删除
# 3) 删除收藏不再重新刷新页面
# 4) 修复字体设置不生效

# Version: v1.4.6
# 2023/8/13
# 1) 本地漫画支持多章节

# Version: v1.4.5
# 2023/5/7
# 1) 修改上一页和上一章跳到最后 #252
# 2) 自动打卡功能
# 3) 新增新版本聊天室
# 4) 修复上下滚动可能出现回滚 #242
# 5) 收藏新增搜索功能

# Version: v1.4.4
# 2023/3/19
# 1) 优化非滚动模式下，放大后的清晰度问题
# 3) 本地书库拖拽出现已忽略问题
# 5) 

# Version: v1.4.2
# 2023/2/1
# 1) 优化看图加载速度
# 3) 本地书库
# 5) 部分漫画下载可能出现死循环
# 6) 
# 8) 
# 10) 


# Version: v1.4.1
# 2023/1/23
# 1) 收藏更新章节显示错误
# 3) 托盘图标重复出现
# 5) 历史记录章节页数记录错误
# 6) 批量下载
# 8) 跨时区数据库更新出现错误
# 10) 分流三同步最新地址

#
# Version: v1.4.0
# 2022/9/25
# 1) 新增一个反代分流（其他分流不可用时解锁，防止滥用）
# 2) 设置中新增关闭时可最小化到托盘
# 3) 下载界面，有更新章节时显示NEW
# 4) 收藏界面，有更新章节时显示NEW
# 5) 修复部分漫画无法显示所以章节

# Version: v1.3.9
# 2022/8/14
# 1) 漫画详情新增大家都在看
# 2) 优化测速流程
# 3) 可离线观看下载好的本子
# 4) 新增锅贴（暂时屏蔽）
# 5) waifu2x小工具支持GIF，webp
# 6) 修复魔推荐没了（改名了）
# 7) 看图右键新增复制
# 8) 部分bug修复

# Version: v1.3.8
# 2022/6/26
# 1) waifu2x库更新，速度提升100%-300%
# 2) 修复部分上传者搜索结果为空
# 3) 修复收藏出现重复的漫画
# 4) 修复部分漫画waifu2x出现失败
# 5) 修复下载章节和waifu2x目录可能出现不一致的问题
# 5) 看图可用F2或右键单独用waifu2x转换当前图片

# Version: v1.3.8
# 2022/6/26
# 1) waifu2x库更新，速度提升100%-300%
# 2) 修复部分上传者搜索结果为空
# 3) 修复收藏出现重复的漫画
# 4) 修复部分漫画waifu2x出现失败
# 5) 修复下载章节和waifu2x目录可能出现不一致的问题
# 5) 看图可用F2或右键单独用waifu2x转换当前图片

# Version: v1.3.7
# 2022/5/1
# 1) 有更新时，不再弹框更新，而在帮助上显示NEW
# 2) 优化了章节和图片过多的漫画加载慢和失败的问题
# 3) 看图添加了部分快捷键
# 4) 看图放大后，滚轮将滚动最下方才会跳转下一页
# 5) 设置中新增了下载保存格式，可以用作者名前缀保存
# 6) 漫画详情中，tag和作者可用右键复制
# 7) 修复本地数据库更新失败的问题
# 8) 修复搜索漫画不显示数量和完结标注
# 9) 修复MacOS漫画详情页面，tag和分类显示不全

# Version: v1.3.6
# 2022/3/19
# 1) 修改了分流2，3，同步官方分流设置
# 2) 修改详情界面点击TAG不再跳转搜索界面
# 3) 设置新增了字体设置
# 4) 修复一些下载图片时的卡顿问题
# 5) 帮助界面新增了一个调试控制台
# 6) 修复注册可能出现日期错误的问题
# 7) 修改了软件设置保留目录，windows修改为当前目录data下
# 8) 修复多屏幕可能出现的鼠标指针错误
# 9) 新增密码修改功能
# 10) 修复一些下载问题

# Version: v1.3.5
# 2022/1/30
# 1) 修复sock5出错
# 2) 修改win字体为微软雅黑
# 3) 修复分类搜索切换界面后，翻页时显示不相关的内容
# 4) 修复全屏后看图，退出时没有还原原窗口大小
# 5) 优化linux打包大小
# 6) 优化分类搜索没有显示分类过滤数量

# Version: v1.3.4
# 2022/1/17
# 1) 添加自动登录
# 2) 修复了搜索页数显示不对
# 3) 新增支持sock5代理
# 4) 搜索方式改为禁漫天堂类似的搜索，请看搜索页问号说明
# 5) 修复MACOS打包出现已损坏提示
# 6) 修复搜索页跳转按钮点击无效

# Version: v1.3.3
# 2022/1/5
# 1)修复看图时Waifu2x失败后 无法正常显示图片
# 2)修复下载时可能会出现 不创建文件的问题
# 3)修复搜索下的分类数量统计太慢的问题

# Version: v1.3.2
# 2022/1/3
# 1)Waifu2x CPU模式支持设置使用的CPU数量
# 2)修改Waifu2x CPU模式内存占用过高，和转换PNG图时奔溃
# 3)重写了下载逻辑代码，修复部分下载问题
# 4)搜索新增了分类过滤
# 5)恢复搜索可以搜索上传者

# Version: v1.3.1
# 2021/12/20
# 1)修复菜单按钮关闭后无法打开
# 2)修复下载章节出现.时无法正常下载
# 3)新增搜索历史记录，搜索空白时显示
# 4)尝试修复聊天室消息卡顿
# 5)标题栏美化，如果显示异常，请在设置中打开使用默认标题栏

# Version: v1.3.0
# 2021/12/05
# 1)修复Win7无法运行
# 2)修复windows中文用户名无法使用Waifu2x
# 3)修改点击tag，同步修改搜索框文字
# 4)修复排行榜切换重复加载
# 5)修复切换漫画时没有清除上一个显示的图片
# 6)搜索候选词添加上下按钮响应
# 7)分类添加了最近更新快捷入口
# 8)设置新增了分类图片的大小设置
# 9)修复Waifu2x可能导致的闪退问题
# 10)尝试修复看图滚动时可能出现画面割裂的问题

# Version: v1.2.9.1
# 2021/11/28
# 1)修复新UI图片模糊，字体锯齿问题
# 2)设置新增界面缩放选项
# 3)设置新增封面大小调整和Waifu2x转化
# 4)多显示器记录关闭的位置
# 5)修复调整缩放后，看图滚动模式错位

# Version: v1.2.8
# 2021/11/21
# 1)重新设计了UI，使用material主题
# 2)代码重构
# 3)聊天室新增悄悄话
# 4)修复下载使用Waifu2x转换时，目录保存路径错误

# Version: v1.2.7
# 2021/10/24
# 1)Waifu2x支持了CPU模式
# 2)看图模式新增自动滚屏翻页(在菜单中设置，在右键菜单开启)
# 3)修复聊天室在黑色主题下，字体看不清的问题

# Version: v1.2.6
# 2021/10/01
# 1)urllib3降级，修复使用系统代理无法访问https，无法加载封面
# 2)修复多屏幕扩展时，宽度判断问题。
# 3)优化了部分界面布局，在低分辨率下界面拥挤的问题
# 4)升级到最新的Qt6.1.3
# 5)优化了看图模式滑动，支持触控
# 6)部分Bug修复

# Version: v1.2.5
# 2021/09/11
# 1)Qt国际化支持，支持英文，繁体
# 2)看图新增快捷右键菜单。
# 3)修复漫画页无法发送评论
# 4)Fix bug
# 5)1.2.5.1 修复dpi过低时，界面显示不全，历史记录和收藏不显示删除

# Version: v1.2.4
# 2021/08/28
# 1)看图新增了双页模式
# 2)添加了CDN分流选项，具体设置看这里https://github.com/tonquer/picacg-windows/discussions/48
# 3)排行榜添加的骑士榜单，搜索新增了搜索上传者选项
# 4)漫画详情可通过本地数据加载，防止网络差时无法加载
# 5)修复了v1.2.3搜索无法正确显示漫画名

# Version: v1.2.3
# 2021/08/28
# 1)看图新增了双页模式
# 2)添加了CDN分流选项，具体设置看这里https://github.com/tonquer/picacg-windows/discussions/48
# 3)排行榜添加的骑士榜单，搜索新增了搜索上传者选项
# 4)漫画详情可通过本地数据加载，防止网络差时无法加载
# 5)fix bug

# Version: v1.2.2
# 2021/08/14
# 1)优化看大分辨率图片卡顿问题
# 2)修复下载文件名出现单引号下载失败
# 3)修复分类只能看第一页
# 4)所有的列表都支持平滑滚动了
# 5)修复看图模式滚动Bug，支持平滑滚动
# 6)密码不再明文保存

# Version: v1.2.1
# 2021/07/31
# 1)waifu2x更新
# 2)看图模式可以用滚动翻页了
# 3)设置中新增了主题
# 4)Fix bug

# Version: v1.2.0
# 2021/07/18
# 1)waifu2x更新
# 2)优化了看图时下载和waifu2x的预加载，优先会加载当前页
# 3)优化了收藏过多时更新太慢的问题
# 4)现在设置可以设置更多waifu2x参数了
# 5)优化了文本复制，大部分文本可用鼠标选择
# 6)新增了我的历史评论
# 7)修改子评论打开逻辑，不再是双击而需要点击评论按钮
# 8)新增了评论和漫画点赞
# 9)看图模式新增了缩放功能，可以+,-或者Ctrl+滚轮缩放图片

# Version: v1.1.9
# 2021/07/04
# 1)看图支持全屏模式
# 2)本地库可以在线更新了，使用picacg-database项目
# 3)新增了游戏区
# 4)修复收藏按收藏时间排序可能出现错误的问题

# Version: v1.1.8
# 2021/06/20
# 1)优化了滚轮滚动列表
# 2)聊天室快捷发送
# 3)修改了看图加载进度条显示
# 4)修改了看图上一章跳转到最后一页
# 5)收藏本地化操作，支持多条件排序

# Version: v1.1.7
# 2021/06/05
# 1)更新本地搜索库。
# 2)界面优化，滑动支持
# 3)支持咔咔锅贴

# Version: v1.1.6
# 2021/05/16
# 1)更新本地搜索库。
# 2)支持更换头像
# 3)支持搜索多个词，'|'（与）和'&'（或）分割关键词

# Version: v1.1.5
# 2021/04/30
# 1)压缩编译了waifu2x功能，waifu2x小工具现在可以随意选择参数
# 2)Linux支持了waifu2x，请安装vulkan相关驱动
# 3)添加了本地数据库功能（搜索界面选择），支持本地搜索功能（所有文本均繁体）转中文，标题使用百度翻译日文，方便检索）
# 4)搜索添加了联想词
# 5)添加了调试版本，方便追踪问题

# Version: v1.1.4
# 2021/04/18
# 1)修复已经漫画浏览过了40章，有问题
# 2)现在支持Linux下使用（测试使用deepin 20.2）

# Version: v1.1.3
# 2021/04/06
# 1)修复不支持vulkan的电脑，无法打开的问题

# Version: v1.1.2
# 2021/04/04
# 1)列表统一增加了右键菜单，快捷打开封面。
# 2)修复了下载时容易出现错误的问题。
# 3)聊天室支持回复，发送图片等。


# Version: v1.1.1
# 2021/03/27
# 1)修复了聊天室不能发言（暂不支持发送图片和语音以及接受语音），设置中支持了开启代理选项
# 2)主页添加了收缩按钮
# 3)历史记录支持删除
# 4)看图小工具支持了waifu2x，（左上角工具进入、点击评论头像、点击聊天室图片可以打开）

# Version: v1.1.0
# 2021/03/20
# 1)添加了哔咔留言板
# 2)添加了哔咔聊天室
# 3)添加了哔咔推荐和哔咔随机本子
# 4)修改了漫画列表图片自适应
# 5)评论列表显示优化

# Version: v1.0.9
# 2021/03/07
# 1)修复了部分图片waifu2x转换失败
# 2)添加了waifu2x的anime_style_art_rgb和photo模型
# 3)看图模式默认不再使用cunet模型（速度太慢），改为默认使用anime_style_art_rgb模型
# 4)现在可以在看图模式工具栏或者设置里切换模型
# 5)去掉了Pillow包的依赖，重写了jpg和png图长宽读取。

# Version: v1.0.8
# 2021/02/27
# 1)界面由PyQt迁移至PySide2，开源协议切换为LGPL
# 2)修复历史记录只显示一页
# 3)修改了看图工具栏的浮动效果，增加了进度条
# 4)添加了分流测速
# 5)评论功能支持楼中楼（双击打开），支持回复
# 6)收藏添加了排序功能
# 7)修复没有新建waifu2x目录，导致waifu2x无法使用

# Version: v1.0.7
# 2021/02/20
# 1)下载支持waifu2x转码
# 2)修改了下载保存目录的结构分原图和waifu2x目录
# 3)修改了下载保存的章节名字
# 4)支持分章节下载
# 5)修复看图模式占用大量的内存
# 6)修复waifu2x内存泄漏问题
# 7)看图模式可以看下载好的章节（章节显示绿色的）

# Version: v1.0.6
# 2021/02/15
# 1)新增热词功能
# 2)新增屏蔽词条功能
# 3)新增waifu2x设置GPU列表选择
# 4)新增漫画详情分类和Tags可点击
# 5)修复漫画详情每次打开会挡住关闭按钮
# 6)去除了多余的waifu2x模型，只保留models-cunet
# 7)修复models-cunet模式下，显存小于2G解码失败
# 8)修复看图模式复制图片闪退

# Version: v1.0.5
# 2021/02/12
# 1)新增了waifu2x功能
# 2)修复了从分类进入搜索重选排序后，分类失效的问题
# 3)修改了看图操作逻辑

# Version: v1.0.4
# 2021/02/7
# 1)更新了看图模式，支持放大和拖拽
# 2)修复了看图无法加载的问题
# 3)修复了历史记录保存有问题
# 4)修改了cache保存方式
# 5)统一修改了文字提示框
# 6)支持在线更新检测

# Version: 1.0.3
# 2021/02/5
# 1)初步完成版本

